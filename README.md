<h1 align="center">
  <img src="https://github.com/CharlotteFallices/Mea/blob/master/icon.png?raw=true" alt="icon" width="200" height="200">
  <br>Mea<br>
</h1>
<h4 align="center">泛用型形式化编程语言</h4>
<h5 align="center">*The icon 🍥 comes from <a href="https://moegirl.org.cn/神乐Mea">a virtual character</h5>

# 引

试问各位有没有想过,我们常说的"数学思维"与"物理思维"有何区别?

既然其哲学基础相同,这种区别的本质就应来源于不同的研究方法:前者将多个等式合而为一,从而建立起不同数值间的关系;后者则研究事物的表现,在相同条件下任不同事物自行演化,再将结果加以对比.这种研究方法的不同导致了思维方式的不同.在下以为,后者较之前者,其根本区别即在于后者存在过程之差异,或者说,后者更倾向于描述一连续过程,而前者则偏好于某一或某些状态.

依鄙人拙见,编程语言,或者说冯·诺依曼架构下的编程语言,是对计算机底层硬件工作方式的抽象.既然如此,其就同样应有"过程"之说.凡是过程就有始末之分,称所有描述其初始状态的值为输入,经过一定处理,所有能描述其结束状态的值的集合称为输出.在整个过程中,需要以不同的方式组织输入的值,进行一些逻辑判断来区分不同的情况并做出改变.在这一过程中还可以引用其它过程,向它们提供一些恰当的值作为输入,再引用其输出结果以降低本身过程的复杂程度.

这些过程便是程序,描述各种组织,处理方法的工具便是编程语言.由于程序可以被描述为$f:{输入}\rightarrow{输出}$,因此我们也常说程序的本质是映射或函数,但又因其具有过程,是对同一内容的不断变化而非两个状态间的关系,故又称其为方法以作区分.

下面请允许我简单概述从输入到输出之间的几种处理方式.

# 基本工作流

上文中曾提到过,编程语言描述如何组织与处理数据.这种描述通常是逐行的,就像要求他人去做某事时,我们会逐句写下命令,编程语言中的描述也是一样.

为了避免由于内容过长以至于无法在形式上的一行内呈现,我们曾规定不以换行来区分各行而是在每行结尾处添加`;`,但后来因为这种情况较为少见,因此便改为以形式上的换行区分各行,如有需要可以在形式行结尾处添加`\`以表示该行与下一行事实上表示同一行.

可以通过添加`//`来表示其右边的部分将在运行时被机器忽略,这通常用于记录一些工作原理或抱怨痛苦的编码工作(笑).

一般来说,每行都由一些方法组成,通常还会有一些逻辑判断:

```shell
new a,num,1
if isEqual a,1 then new b,string,"a is one" else new b,string,"a isn't one"
```

在此基础上,还可以通过加入`()`与`{}`来帮助划分结构:

```kotlin
new(a,num,1)
if(isEqual(a,1)){
	new(b,string,"a is one")
}else{
	new(b,string,"a isn't one")
}
```
后者中并没有添加`then`标识符,因为在通过`()`进行划分后`then`将是可选的,在前者中也同样可以这样使用:

```mea
if(isEqual a,1) new b,string,"a is one" else new b,string,"a isn't one"
```

更多关于逻辑判断的内容会在[逻辑判断](#逻辑判断)一节中介绍.

## 对象

在上文中提到过,我们要对输入的数据进行组织与处理,其中的组织便体现在通过数据构建不同的对象上.

对象具有属性与类型,对象具有何种属性由其类型决定.

基本类型共有三种:数值,字符串与逻辑类型,分别对应`num`,`string`与`bool`.其中`string`类型的值应在两端添加`""`,`bool`类型的对象只具有`True`与`False`两种值,用以表示逻辑判断中的真假.更多关于类型的内容会在类型一节中介绍.

除上文中通过`new()`来声明对象以外,按照惯例,还可以直接写作`object:type=value`的形式:

```kotlin
a:num=1
```

如果对象已经声明,改变对象的值时不再需要指定类型:

```kotlin
a=plus(a,1)
```

声明对象的具体实现,在原理上通常是依据其类型在内存上划分出一定空间,并将对象各个属性的值储存于其中.上面使`a`为`1`事实上是使`a`的`value`属性为`"1"`,一般情况下,`a`的`value`属性应以`a.value`表示:

```kotlin
a:num=null
a.value="1"
```

首先将`a`声明为空,再将`a.value`赋值为`"1"`,这种方式在本例中与直接声明等价,但在某些情况下则有一些差别:

```kotlin
a:num=0.1
```

`num`类型对象共有三种属性:`value`,`point`与`flag`,其中`point`用于指示小数点所在的位置,`flag`用于标识正负.`value`是一个只包含数字的字符串,在存在小数点与符号的情况下,单独声明`value`会造成这些属性的遗失.

对象还可以被声明为列表,一个列表内可以存放多个对象,声明时应在类型两边添加`[]`,在值两边添加`{}`;

```kotlin
a:[num]={1,2,3}
```
可以为列表中的每一个值命名,也可以在访问时直接使用位数访问.访问列表中的某个对象时应在名称或位数两边添加`[]`:

```kotlin
a[0]=plus(a[0],1)
b:[num]={"first":1,"second":2}
b["first"]=a[0]
```

先将`a`的第`0`位数(第一个)加一,再将其作为`b`中的`first`.值得一提的是,此处的`=`会将`a`的第`0`位上的对象作为`b`中的`first`而不是使`b`中`first`的对象的值为其的值.

这主要是因为列表事实上只是对多个对象在内存上的位置进行索引,换句话说,一个列表中真正填充的值是一些地址而非对象本身的值,因此,也可以创建没有具体内容的列表,只需指明类型与个数即可:

```kotlin
a:[num]=[3]
```

并且,可以通过在声明时添加多个`[]`以创建多维列表:

```kotlin
a:[num]=[3][5]
a[0][1]=1
```

以上便声明了一个3*5的二维列表,并使(0,1)的位置上为一个值为`1`的对象.
